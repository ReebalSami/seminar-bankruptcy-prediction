<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>03a H4 VIF Analysis</title>
<style>
body {font-family: Arial; margin: 20px; background: #f5f5f5;}
.container {max-width: 1400px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px;}
h1 {color: #2c3e50; border-bottom: 3px solid #3498db;}
h2 {color: #34495e; margin-top: 30px;}
.metric {display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
color: white; padding: 20px; margin: 10px; border-radius: 8px; min-width: 180px; text-align: center;}
.metric-value {font-size: 32px; font-weight: bold; margin: 5px 0;}
table {width: 100%; border-collapse: collapse; margin: 20px 0;}
th, td {border: 1px solid #ddd; padding: 12px; text-align: left;}
th {background: #3498db; color: white;}
tr:nth-child(even) {background: #f2f2f2;}
.info {background: #e7f3ff; border-left: 4px solid #2196F3; padding: 15px; margin: 20px 0;}
.warning {background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0;}
.success {background: #d4edda; border-left: 4px solid #28a745; padding: 15px; margin: 20px 0;}
code {background: #f4f4f4; padding: 2px 6px; border-radius: 3px; font-family: monospace;}
</style></head><body><div class="container">
<h1>üîç Phase 03a: VIF Analysis - Horizon 4</h1>

<div class="info">
<strong>Status:</strong> ‚úÖ Converged: max(VIF) ‚â§ 10
</div>

<div class="info">
<strong>Methodology:</strong> Iterative VIF Pruning
<ul>
<li><strong>Threshold:</strong> VIF &gt; 10 indicates serious multicollinearity (Penn State STAT 462, O'Brien 2007)</li>
<li><strong>Algorithm:</strong> Remove feature with highest VIF, recompute, repeat until max(VIF) ‚â§ 10</li>
<li><strong>VIF Formula:</strong> <code>VIF = 1 / (1 - R¬≤)</code> where R¬≤ is from auxiliary regression</li>
<li><strong>Interpretation:</strong> VIF quantifies how much variance is inflated due to collinearity</li>
</ul>
</div>

<h2>üìä Summary Statistics</h2>
<div>
<div class="metric">
<div>Initial Features</div>
<div class="metric-value">64</div>
</div>
<div class="metric">
<div>Final Features</div>
<div class="metric-value">43</div>
</div>
<div class="metric">
<div>Removed</div>
<div class="metric-value">21</div>
</div>
<div class="metric">
<div>Iterations</div>
<div class="metric-value">22</div>
</div>
<div class="metric">
<div>Max Final VIF</div>
<div class="metric-value">9.87</div>
</div>
</div>

<h2>üîÑ Iteration Log</h2>
<table>
<tr><th>Iteration</th><th>Features Remaining</th><th>Max VIF</th><th>Removed Feature</th><th>Removed VIF</th><th>Reason</th></tr>
<tr><td>1</td><td>64</td><td>71030600.10</td>
<td>A14</td><td>71030600.10</td><td>max_vif</td></tr>
<tr><td>2</td><td>63</td><td>923.09</td>
<td>A7</td><td>923.09</td><td>max_vif</td></tr>
<tr><td>3</td><td>62</td><td>233.66</td>
<td>A8</td><td>233.66</td><td>max_vif</td></tr>
<tr><td>4</td><td>61</td><td>188.51</td>
<td>A19</td><td>188.51</td><td>max_vif</td></tr>
<tr><td>5</td><td>60</td><td>121.41</td>
<td>A54</td><td>121.41</td><td>max_vif</td></tr>
<tr><td>6</td><td>59</td><td>105.29</td>
<td>A16</td><td>105.29</td><td>max_vif</td></tr>
<tr><td>7</td><td>58</td><td>91.46</td>
<td>A32</td><td>91.46</td><td>max_vif</td></tr>
<tr><td>8</td><td>57</td><td>83.68</td>
<td>A10</td><td>83.68</td><td>max_vif</td></tr>
<tr><td>9</td><td>56</td><td>76.74</td>
<td>A18</td><td>76.74</td><td>max_vif</td></tr>
<tr><td>10</td><td>55</td><td>32.27</td>
<td>A4</td><td>32.27</td><td>max_vif</td></tr>
<tr><td>11</td><td>54</td><td>31.15</td>
<td>A42</td><td>31.15</td><td>max_vif</td></tr>
<tr><td>12</td><td>53</td><td>29.10</td>
<td>A23</td><td>29.10</td><td>max_vif</td></tr>
<tr><td>13</td><td>52</td><td>26.35</td>
<td>A11</td><td>26.35</td><td>max_vif</td></tr>
<tr><td>14</td><td>51</td><td>23.02</td>
<td>A28</td><td>23.02</td><td>max_vif</td></tr>
<tr><td>15</td><td>50</td><td>22.32</td>
<td>A51</td><td>22.32</td><td>max_vif</td></tr>
<tr><td>16</td><td>49</td><td>21.72</td>
<td>A43</td><td>21.72</td><td>max_vif</td></tr>
<tr><td>17</td><td>48</td><td>17.26</td>
<td>A22</td><td>17.26</td><td>max_vif</td></tr>
<tr><td>18</td><td>47</td><td>15.71</td>
<td>A46</td><td>15.71</td><td>max_vif</td></tr>
<tr><td>19</td><td>46</td><td>13.12</td>
<td>A33</td><td>13.12</td><td>max_vif</td></tr>
<tr><td>20</td><td>45</td><td>12.71</td>
<td>A50</td><td>12.71</td><td>max_vif</td></tr>
<tr><td>21</td><td>44</td><td>10.97</td>
<td>A47</td><td>10.97</td><td>max_vif</td></tr>
<tr><td>22</td><td>43</td><td>9.87</td>
<td>‚Äî</td><td>‚Äî</td><td>converged</td></tr></table>

<h2>‚úÖ Final VIF Values (Top 20)</h2>
<div class="success">
All retained features have VIF ‚â§ 10, indicating acceptable multicollinearity levels for regression modeling.
</div>
<table>
<tr><th>Rank</th><th>Feature</th><th>VIF</th><th>Tolerance</th><th>Status</th></tr>
<tr><td>1</td><td><strong>A31</strong></td><td>9.872</td>
<td>0.1013</td><td>‚úÖ OK</td></tr>
<tr><td>2</td><td><strong>A49</strong></td><td>9.636</td>
<td>0.1038</td><td>‚úÖ OK</td></tr>
<tr><td>3</td><td><strong>A48</strong></td><td>9.153</td>
<td>0.1093</td><td>‚úÖ OK</td></tr>
<tr><td>4</td><td><strong>A2</strong></td><td>9.145</td>
<td>0.1093</td><td>‚úÖ OK</td></tr>
<tr><td>5</td><td><strong>A1</strong></td><td>8.765</td>
<td>0.1141</td><td>‚úÖ OK</td></tr>
<tr><td>6</td><td><strong>A56</strong></td><td>8.750</td>
<td>0.1143</td><td>‚úÖ OK</td></tr>
<tr><td>7</td><td><strong>A39</strong></td><td>8.732</td>
<td>0.1145</td><td>‚úÖ OK</td></tr>
<tr><td>8</td><td><strong>A35</strong></td><td>8.491</td>
<td>0.1178</td><td>‚úÖ OK</td></tr>
<tr><td>9</td><td><strong>A62</strong></td><td>8.236</td>
<td>0.1214</td><td>‚úÖ OK</td></tr>
<tr><td>10</td><td><strong>A38</strong></td><td>7.432</td>
<td>0.1345</td><td>‚úÖ OK</td></tr>
<tr><td>11</td><td><strong>A13</strong></td><td>7.420</td>
<td>0.1348</td><td>‚úÖ OK</td></tr>
<tr><td>12</td><td><strong>A58</strong></td><td>7.139</td>
<td>0.1401</td><td>‚úÖ OK</td></tr>
<tr><td>13</td><td><strong>A26</strong></td><td>6.605</td>
<td>0.1514</td><td>‚úÖ OK</td></tr>
<tr><td>14</td><td><strong>A12</strong></td><td>6.097</td>
<td>0.1640</td><td>‚úÖ OK</td></tr>
<tr><td>15</td><td><strong>A36</strong></td><td>5.688</td>
<td>0.1758</td><td>‚úÖ OK</td></tr>
<tr><td>16</td><td><strong>A52</strong></td><td>5.341</td>
<td>0.1872</td><td>‚úÖ OK</td></tr>
<tr><td>17</td><td><strong>A3</strong></td><td>5.260</td>
<td>0.1901</td><td>‚úÖ OK</td></tr>
<tr><td>18</td><td><strong>A17</strong></td><td>5.239</td>
<td>0.1909</td><td>‚úÖ OK</td></tr>
<tr><td>19</td><td><strong>A9</strong></td><td>5.023</td>
<td>0.1991</td><td>‚úÖ OK</td></tr>
<tr><td>20</td><td><strong>A25</strong></td><td>4.813</td>
<td>0.2078</td><td>‚úÖ OK</td></tr></table>
<h2>üóëÔ∏è Removed Features (21)</h2>
<table>
<tr><th>Feature</th><th>VIF at Removal</th><th>Iteration</th><th>Reason</th></tr>
<tr><td><strong>A14</strong></td><td>71030600.10</td><td>1</td><td>max_vif</td></tr>
<tr><td><strong>A7</strong></td><td>923.09</td><td>2</td><td>max_vif</td></tr>
<tr><td><strong>A8</strong></td><td>233.66</td><td>3</td><td>max_vif</td></tr>
<tr><td><strong>A19</strong></td><td>188.51</td><td>4</td><td>max_vif</td></tr>
<tr><td><strong>A54</strong></td><td>121.41</td><td>5</td><td>max_vif</td></tr>
<tr><td><strong>A16</strong></td><td>105.29</td><td>6</td><td>max_vif</td></tr>
<tr><td><strong>A32</strong></td><td>91.46</td><td>7</td><td>max_vif</td></tr>
<tr><td><strong>A10</strong></td><td>83.68</td><td>8</td><td>max_vif</td></tr>
<tr><td><strong>A18</strong></td><td>76.74</td><td>9</td><td>max_vif</td></tr>
<tr><td><strong>A4</strong></td><td>32.27</td><td>10</td><td>max_vif</td></tr>
<tr><td><strong>A42</strong></td><td>31.15</td><td>11</td><td>max_vif</td></tr>
<tr><td><strong>A23</strong></td><td>29.10</td><td>12</td><td>max_vif</td></tr>
<tr><td><strong>A11</strong></td><td>26.35</td><td>13</td><td>max_vif</td></tr>
<tr><td><strong>A28</strong></td><td>23.02</td><td>14</td><td>max_vif</td></tr>
<tr><td><strong>A51</strong></td><td>22.32</td><td>15</td><td>max_vif</td></tr>
<tr><td><strong>A43</strong></td><td>21.72</td><td>16</td><td>max_vif</td></tr>
<tr><td><strong>A22</strong></td><td>17.26</td><td>17</td><td>max_vif</td></tr>
<tr><td><strong>A46</strong></td><td>15.71</td><td>18</td><td>max_vif</td></tr>
<tr><td><strong>A33</strong></td><td>13.12</td><td>19</td><td>max_vif</td></tr>
<tr><td><strong>A50</strong></td><td>12.71</td><td>20</td><td>max_vif</td></tr>
<tr><td><strong>A47</strong></td><td>10.97</td><td>21</td><td>max_vif</td></tr></table>
<div class="info">
<h3>üìö References</h3>
<ul>
<li>Penn State STAT 462 (online.stat.psu.edu): "VIFs exceeding 10 are signs of serious multicollinearity requiring correction"</li>
<li>O'Brien (2007): "A Caution Regarding Rules of Thumb for Variance Inflation Factors", Quality & Quantity</li>
<li>Menard (1995): "A tolerance of less than 0.10 almost certainly indicates a serious collinearity problem"</li>
</ul>
</div>

<div class="info">
<h3>Next Steps</h3>
<ul>
<li><strong>Phase 04:</strong> Feature selection using statistical tests and economic criteria</li>
<li><strong>Phase 05:</strong> Model training with cleaned feature set</li>
<li><strong>Features retained:</strong> 43 features ready for modeling</li>
</ul>
</div>

<p style="text-align:center; color:#666; margin-top:40px;">
Generated: 2025-11-18 12:21:52<br>
Phase 03a: VIF Analysis - Horizon 4<br>
Script: scripts/03_multicollinearity/03a_vif_analysis.py</p>
</div></body></html>